<?xml version="1.0" encoding="UTF-8"?>
<iguana xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

	<!-- This will define all triplstores, even if you are not using them -->
	<databases main="dbpedia">

		<!-- you can specify an endpoint, an update-endpoint, a user and a pwd. -->
		<database id="virtuoso1" type="impl">
			<endpoint uri="http://dbpedia.org/sparql-auth" />
			<user value="dba" />
			<pwd value="dba" />
		</database>
		<database id="virtuoso2" type="impl">
			<endpoint uri="http://dbpedia.org/sparql" />
		</database>
		<database id="ref" type="impl">
			<endpoint uri="http://dbpedia.org/sparql" />
		</database>
	</databases>

	<suite>
		<!--
				
			If you want to use only one named graph use this.  
			Better: keep name empty and use the FROM clause in
			the SPARQL Queries.
		-->
		<graph-uri name="http://dbpedia.org" />
		<!-- 
			This is just to determine how many datasets you want to use 
			Please ignore the attributes and just copy paste them for now.		
		-->
		<random-function type="RandomTriple" generate="false">
			<percent value="1.0" file-name="dbpedia2/" />
		</random-function>

		<!-- 
			Specifies a warmup before every testcase 
			20 minutes and  all queries in warmup.txt (query/line)		
		 -->
		<warmup time="20" file-name="warmup.txt" />

		<!-- 
			either you use choose='use the triplestores provided below'
			or all='use all defined triplestores'
		-->
		<test-db type="choose" reference="ref">
			<!-- only use the triplestore defined with the id 'virtuoso1' -->
			<db id="virtuoso1" />
		</test-db>
	
		<!-- 
			This defines all Testcases, and a pre and post Testcase hook. 
			you can use those hooks to start and stop the triplestore. 
		-->
		<testcases testcase-pre="./testcasePre.sh %DBID% %PERCENT% %TESTCASEID%"
			testcase-post="./testcasePost.sh %DBID% %PERCENT% %TESTCASEID%">
			
			<!-- 
				Here are two examples of Stress tests 
				You can find all parameters usable in the Stress test at
				https://github.com/AKSW/IGUANA/wiki/Getting-Started
			-->			
			<testcase class="org.aksw.iguana.testcases.StressTestcase">
				<property name="sparql-user" value="1" />
				<property name="update-user" value="0" />
			
				<!-- Amount of simulated Network Latency -->
				<property name="latency-amount0" value="20" />
				<property name="latency-strategy0" value="VARIABLE" />
				
				<!-- The File containing the queries (q/line) -->
				<property name="queries-path" value="queries-175.txt" />
				<property name="is-pattern" value="false" />
				<!-- 
					Time limit in ms 
					(also possible is no-of-query-mixes instead of timeLimit) 
				-->
				<property name="timelimit" value="3600000" />
			</testcase>
			<testcase class="org.aksw.iguana.testcases.StressTestcase">
				<property name="sparql-user" value="16" />
				<property name="update-user" value="1" />
				<property name="latency-amount0" value="20" />
				<property name="latency-strategy0" value="VARIABLE" />
				<property name="queries-path" value="queries-175.txt" />
				<property name="is-pattern" value="false" />
				<property name="linking-strategy" value="ID" />
				<property name="update-path" value="ld" />
				<property name="worker-strategy0" value="ADDED" />
				<property name="update-strategy" value="VARIABLE" />
				<property name="timelimit" value="3600000" />
			</testcase>
		</testcases>
	</suite>


</iguana>

